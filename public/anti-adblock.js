// @adr/anti-adblock v0.0.0
!function(){"use strict";function t(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,t(i.key),i)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function i(e,n,r){return(n=t(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var o=function(t,e){if(t)for(var n=Object.prototype.toString.call(e.prototype),r=Object.getPrototypeOf(t);r;){if(Object.prototype.toString.call(r)===n)return!0;r=Object.getPrototypeOf(r)}return!1},u=function(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)},c=function(t){return"string"==typeof t||o(t,String)},a=function(t){return o(t,HTMLElement)||s(t)},s=function(t){return o(t,Document)},l=function(t){if(!c(t))throw new Error("".concat(t," is not a string"));return 0===d(t).length},d=function(t){if(!c(t))throw new Error("".concat(t," is not a string"));return t.replace(/\s/g,"")},f=function(t,e,n){var r;if((a(t)||t instanceof SVGElement)&&(r=e,"[object Object]"===Object.prototype.toString.call(r)))for(var i in e){var o=u(e[i])?String(e[i]):e[i];c(o)&&!l(o)&&n(t,i,o)}},m=function(){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e(this,t),i(this,"timeoutId",void 0),i(this,"timeout",void 0),i(this,"cb",void 0),i(this,"shouldContinue",void 0),this.cb=n,this.timeoutId=null,this.timeout=u(r)&&r>=0?r:0,this.shouldContinue=!1}return r(t,[{key:"loopIteration",value:function(){this.shouldContinue&&(this.cb(),this.timeoutId=setTimeout(this.loopIteration.bind(this),this.timeout))}},{key:"start",value:function(){null===this.timeoutId&&(this.shouldContinue=!0,this.loopIteration())}},{key:"stop",value:function(){null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.shouldContinue=!1,this.timeoutId=null)}}]),t}(),h=function(){function t(n,r,o){if(e(this,t),i(this,"uri",void 0),i(this,"parent",void 0),i(this,"timeOut",void 0),i(this,"scriptElement",void 0),!c(n))throw new Error("ScriptLoader: The url must be a string.");if(l(n))throw new Error("ScriptLoader: The url parameter cannot be an empty string.");this.timeOut=u(o)&&function(t){if(!u(t))throw new Error("".concat(t," is not a number"));return t>=0}(o)?o:5e3,this.scriptElement=document.createElement("script"),this.uri=n,s(r)&&a(r.body)?this.parent=r.body:a(r)&&1===(null==r?void 0:r.nodeType)?this.parent=r:this.parent=document.body}return r(t,[{key:"removeScriptElement",value:function(){this.scriptElement.remove()}},{key:"load",value:function(){var t=this;return new Promise((function(e,n){t.scriptElement.setAttribute("src",t.uri);var r=setTimeout((function(){t.scriptElement.removeEventListener("load",i),t.scriptElement.removeEventListener("error",i),t.scriptElement.remove(),n(new Error("TimeOut error."))}),t.timeOut),i=function(i){clearTimeout(r),"error"===i.type?(t.scriptElement.remove(),n(new Error("Script error loading."))):e(!0)};t.scriptElement.addEventListener("load",i,{once:!0}),t.scriptElement.addEventListener("error",i,{once:!0}),t.parent.append(t.scriptElement)}))}},{key:"setAttributes",value:function(t){return function(t,e){f(t,e,(function(t,e,n){return t.setAttribute(e,n)}))}(this.scriptElement,t),this}}]),t}(),p="1px",v=function(){function t(){e(this,t)}return r(t,null,[{key:"check",value:function(){var t=this,e=this.createAdElement();return new Promise((function(n){var r=null,i=function(){r?clearTimeout(r):document.removeEventListener("DOMContentLoaded",o),u.stop(),e.remove()},o=function(){setTimeout((function(){n(t.checkStyles(e)),i()}),100)},u=new m((function(){t.checkStyles(e)&&(i(),n(!0))}),50);e.className="content-list__ad-label ad banner adriver tracker analitics ads reklama ad-sidebar adsbox adblock-blocker","loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):r=setTimeout((function(){n(t.checkStyles(e)),i()}),500),u.start()}))}},{key:"createAdElement",value:function(){var t=document.createElement("div");return f(t,{width:p,height:p,opacity:"1",display:"block",visibility:"visible"},(function(t,e,n){return t.style.setProperty(e,n)})),document.body.append(t),t}},{key:"checkStyles",value:function(t){var e=window.getComputedStyle(t);return"none"===e.display||"hidden"===e.visibility||e.height!==p||e.width!==p||"1"!==e.opacity}}]),t}(),y=function(t){return Object.prototype.hasOwnProperty.call(window,"AAB_PROXY_URL")?"".concat(window.AAB_PROXY_URL,"/?source=").concat(btoa(t)):t};(function(){v.check().then((function(t){if(t){window.AAB_PROXY_URL="https://add-server.onrender.com";var e=y(void 0+"/adriver-core.js");new h(e).load()}}))})()}();
